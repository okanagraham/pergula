<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Pergula Login</title>
  </head>
  <body>
    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-app.js"></script>

    <!-- TODO: Add SDKs for Firebase products that you want to use
         https://firebase.google.com/docs/web/setup#available-libraries -->
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-analytics.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.2.2/firebase-auth.js"></script>

    <script>
      // Your web app's Firebase configuration
      // For Firebase JS SDK v7.20.0 and later, measurementId is optional
      var firebaseConfig = {
        apiKey: "AIzaSyCmI4zUlFp705woK55OSLN0pu8yrH-XrIA",
        authDomain: "pergula-svg.firebaseapp.com",
        projectId: "pergula-svg",
        storageBucket: "pergula-svg.appspot.com",
        messagingSenderId: "360572147285",
        appId: "1:360572147285:web:fb7a876f14b5ea08ebe6dc",
        measurementId: "G-ZDR9YN4SXD"
      };
      // Initialize Firebase
      firebase.initializeApp(firebaseConfig);
      firebase.analytics();

      //// DEBUG: replace the following with login form

      /*firebase.auth().signInWithEmailAndPassword('okanagraham@gmail.com', 'Kroyen99!')
        .then((user) => {
          // Signed in
          firebase.auth().currentUser.getIdTokenResult()
            .then((idTokenResult) => {
               // Confirm the user is an Admin.
               if (!!idTokenResult.claims.admin) {
                 // Show admin UI.
                 window.location.replace('admin.html');
               }
               if (!!idTokenResult.claims.parent) {
                 // Show admin UI.
                 //showAdminUI();
                 window.location.replace('parent.html');
               }
               if (!!idTokenResult.claims.student) {
                 // Show admin UI.
                 //showAdminUI();
                 window.location.replace('student.html');
               }
               if (!!idTokenResult.claims.teacher) {
                 // Show regular user UI.
                 window.location.replace('teacher.html');
               }
            })
            .catch((error) => {
              console.log(error);
          });
        })
        .catch((error) => {
          var errorCode = error.code;
          var errorMessage = error.message;
          console.log(errorMessage);
      });*/
    </script>
  </body>
</html>
